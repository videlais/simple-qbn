(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{$and:()=>pt,$not:()=>dt,$or:()=>yt});var r={};t.r(r),t.d(r,{$cmp:()=>bt,$eq:()=>Xt,$gt:()=>Zt,$gte:()=>Ht,$lt:()=>te,$lte:()=>ee,$ne:()=>re});var n={};t.r(n),t.d(n,{$elemMatch:()=>ne,$slice:()=>oe});var o={};t.r(o),t.d(o,{$all:()=>ie,$and:()=>Pe,$bitsAllClear:()=>ae,$bitsAllSet:()=>le,$bitsAnyClear:()=>fe,$bitsAnySet:()=>he,$elemMatch:()=>se,$eq:()=>pe,$exists:()=>we,$expr:()=>je,$gt:()=>de,$gte:()=>ye,$in:()=>be,$jsonSchema:()=>xe,$lt:()=>ge,$lte:()=>me,$mod:()=>ke,$ne:()=>ve,$nin:()=>$e,$nor:()=>Ae,$not:()=>Ce,$or:()=>Me,$regex:()=>Se,$size:()=>ue,$type:()=>Oe,$where:()=>Ee});var i={};t.r(i),t.d(i,{$addToSet:()=>qe,$bit:()=>ze,$currentDate:()=>De,$inc:()=>Fe,$max:()=>Ge,$min:()=>Qe,$mul:()=>Ve,$pop:()=>Je,$pull:()=>We,$pullAll:()=>Ke,$push:()=>Ye,$rename:()=>Ze,$set:()=>Xe,$unset:()=>He});class s extends Error{}const u=Symbol("missing"),c="mingo: cycle detected while processing object/array",a=t=>{const e=z(t);let r=0,n=e.length;for(;n;)r=(r<<5)-r^e.charCodeAt(--n);return r>>>0},l=t=>"object"!=typeof t&&"function"!=typeof t||null===t,f=t=>l(t)||x(t)||k(t),h={undefined:1,null:2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,boolean:9,date:10,regexp:11,function:12};function p(t,e){t===u&&(t=void 0),e===u&&(e=void 0);const[r,n]=[t,e].map((t=>h[_(t)?"arraybuffer":b(t)]??100));return r!==n?r-n:(100===r&&(t=z(t),e=z(e)),L(t,e)?0:t<e?-1:1)}class d extends Map{#t=a;#e=new Map;#r=t=>{const e=this.#t(t);return[(this.#e.get(e)||[]).find((e=>L(e,t))),e]};constructor(){super()}static init(t){const e=new d;return t&&(e.#t=t),e}clear(){super.clear(),this.#e.clear()}delete(t){if(l(t))return super.delete(t);const[e,r]=this.#r(t);return!!super.delete(e)&&(this.#e.set(r,this.#e.get(r).filter((t=>!L(t,e)))),!0)}get(t){if(l(t))return super.get(t);const[e,r]=this.#r(t);return super.get(e)}has(t){if(l(t))return super.has(t);const[e,r]=this.#r(t);return super.has(e)}set(t,e){if(l(t))return super.set(t,e);const[r,n]=this.#r(t);if(super.has(r))super.set(r,e);else{super.set(t,e);const r=this.#e.get(n)||[];r.push(t),this.#e.set(n,r)}return this}get size(){return super.size}}function y(t,e){if(!t)throw new s(e)}function b(t){if(null===t)return"null";const e=typeof t;if("object"!==e&&e in h)return e;if(w(t))return"array";if(x(t))return"date";if(k(t))return"regexp";const r=Object.prototype.toString.call(t);return"[object Object]"===r?t?.constructor?.name?.toLowerCase()||"object":r.substring(8,r.length-1).toLowerCase()}const g=t=>"boolean"==typeof t,m=t=>"string"==typeof t,v=t=>"symbol"==typeof t,$=t=>!isNaN(t)&&"number"==typeof t,w=Array.isArray,O=t=>"object"===b(t),j=t=>!l(t),x=t=>t instanceof Date,k=t=>t instanceof RegExp,S=t=>"function"==typeof t,E=t=>null==t,P=(t,e=!0)=>!!t||e&&""===t,M=t=>E(t)||m(t)&&!t||w(t)&&0===t.length||O(t)&&0===Object.keys(t).length,A=t=>w(t)?t:[t],C=(t,e)=>!!t&&Object.prototype.hasOwnProperty.call(t,e),_=t=>"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t),N=(t,e)=>{if(E(t)||g(t)||$(t)||m(t))return t;if(x(t))return new Date(t);if(k(t))return new RegExp(t);if(_(t))return new(0,t.constructor)(t);if(e instanceof Set||(e=new Set),e.has(t))throw new Error(c);e.add(t);try{if(w(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=N(t[n],e);return r}if(O(t)){const r={};for(const n of Object.keys(t))r[n]=N(t[n],e);return r}}finally{e.delete(t)}return t},I=t=>t===u;function U(t,e){if(I(t)||E(t))return e;if(I(e)||E(e))return t;if(l(t)||l(e))return e;w(t)&&w(e)&&y(t.length===e.length,"arrays must be of equal length to merge.");for(const r of Object.keys(e))t[r]=U(t[r],e[r]);return t}function T(t,e=a){const r=[d.init(e),d.init(e)];if(0===t.length)return[];if(t.some((t=>0===t.length)))return[];if(1===t.length)return[...t];t[t.length-1].forEach((t=>r[0].set(t,!0)));for(let e=t.length-2;e>-1;e--){if(t[e].forEach((t=>{r[0].has(t)&&r[1].set(t,!0)})),0===r[1].size)return[];r.reverse(),r[1].clear()}return Array.from(r[0].keys())}function R(t,e=1){const r=new Array;return function t(e,n){for(let o=0,i=e.length;o<i;o++)w(e[o])&&(n>0||n<0)?t(e[o],Math.max(-1,n-1)):r.push(e[o])}(t,e),r}const q=t=>null!=t&&t.toString!==Object.prototype.toString;function L(t,e){if(t===e||Object.is(t,e))return!0;if(null===t||null===e)return!1;if(typeof t!=typeof e)return!1;if("object"!=typeof t)return!1;if(x(t))return x(e)&&+t==+e;if(k(t))return k(e)&&t.toString()===e.toString();const r=b(t);if(r!==b(e))return!1;switch(r){case"array":if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(!L(t[r],e[r]))return!1;return!0;case"object":{const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const n of r)if(!(n in e)||!L(t[n],e[n]))return!1;return!0}default:return q(t)&&t.toString()===e.toString()}}function z(t,e){if(null===t)return"null";if(void 0===t)return"undefined";if(m(t)||$(t)||g(t))return JSON.stringify(t);if(x(t))return t.toISOString();if(k(t)||v(t)||S(t))return t.toString();if(e instanceof Set||(e=new Set),e.has(t))throw new Error(c);try{if(e.add(t),w(t))return"["+t.map((t=>z(t,e))).join(",")+"]";if(O(t))return"{"+Object.keys(t).sort().map((r=>`${r}:${z(t[r],e)}`)).join()+"}";const r=q(t)?t.toString():z(function(t){const e={};for(;t;){for(const r of Object.getOwnPropertyNames(t))r in e||(e[r]=t[r]);t=Object.getPrototypeOf(t)}return e}(t),e);return b(t)+"("+r+")"}finally{e.delete(t)}}function D(t,e,r=a){if(t.length<1)return new Map;const n=d.init(r);for(let r=0;r<t.length;r++){const o=t[r],i=e(o,r)??null;let s=n.get(i);s?s.push(o):(s=[o],n.set(i,s))}return n}function F(t,e){return j(t)?t[e]:void 0}function G(t,e,r){let n=0;const o=f(t)?t:function t(e,r){let o=e;for(let e=0;e<r.length;e++){const i=r[e];if(null===/^\d+$/.exec(i)&&w(o)){if(0===e&&n>0)break;n+=1;const i=r.slice(e);o=o.reduce(((e,r)=>{const n=t(r,i);return void 0!==n&&e.push(n),e}),[]);break}if(o=F(o,i),void 0===o)break}return o}(t,e.split("."));return w(o)&&r?.unwrapArray?function(t,e){if(e<1)return t;for(;e--&&1===t.length;)t=t[0];return t}(o,n):o}function Q(t,e,r){const n=e.indexOf("."),o=-1==n?e:e.substring(0,n),i=e.substring(n+1),s=-1!=n;if(w(t)){const n=/^\d+$/.test(o),c=n&&r?.preserveIndex?[...t]:[];if(n){const e=parseInt(o);let n=F(t,e);s&&(n=Q(n,i,r)),r?.preserveIndex?c[e]=n:c.push(n)}else for(const n of t){const t=Q(n,e,r);r?.preserveMissing?c.push(null==t?u:t):(null!=t||r?.preserveIndex)&&c.push(t)}return c}const c=r?.preserveKeys?{...t}:{};let a=F(t,o);if(s&&(a=Q(a,i,r)),void 0!==a)return c[o]=a,c}function V(t){if(w(t))for(let e=t.length-1;e>=0;e--)t[e]===u?t.splice(e,1):V(t[e]);else if(O(t))for(const e in t)C(t,e)&&V(t[e])}const J=/^\d+$/;function W(t,e,r,n){const o=e.split("."),i=o[0],s=o.slice(1).join(".");if(1===o.length)(O(t)||w(t)&&J.test(i))&&r(t,i);else{n?.buildGraph&&E(t[i])&&(t[i]={});const e=t[i];if(!e)return;const u=!!(o.length>1&&J.test(o[1]));w(e)&&n?.descendArray&&!u?e.forEach((t=>W(t,s,r,n))):W(e,s,r,n)}}function K(t,e,r){W(t,e,((t,e)=>{t[e]=S(r)?r(t[e]):r}),{buildGraph:!0})}function B(t,e,r){W(t,e,((t,e)=>{w(t)?t.splice(parseInt(e),1):O(t)&&delete t[e]}),r)}const Y=/^\$[a-zA-Z0-9_]+$/;function X(t){return Y.test(t)}function Z(t){if(f(t))return k(t)?{$regex:t}:{$eq:t};if(j(t)){if(!Object.keys(t).some(X))return{$eq:t};if(C(t,"$regex")){const e={...t};return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var H=(t=>(t[t.CLONE_OFF=0]="CLONE_OFF",t[t.CLONE_INPUT=1]="CLONE_INPUT",t[t.CLONE_OUTPUT=2]="CLONE_OUTPUT",t[t.CLONE_ALL=3]="CLONE_ALL",t))(H||{});class tt{#n;#o;#i;constructor(t,e,r){this.#n=t,this.update(e,r)}static init(t,e,r){return t instanceof tt?new tt(t.#n,t.root??e,{...t.#i,...r,variables:Object.assign({},t.#i?.variables,r?.variables)}):new tt(t,e,r)}update(t,e){this.#o=t;const r=Object.assign({},this.#i?.variables,e?.variables);return Object.keys(r).length?this.#i={...e,variables:r}:this.#i=e??{},this}getOptions(){return Object.freeze({...this.#n,context:nt.from(this.#n.context)})}get root(){return this.#o}get local(){return this.#i}get idKey(){return this.#n.idKey}get collation(){return this.#n?.collation}get processingMode(){return this.#n?.processingMode||0}get useStrictMode(){return this.#n?.useStrictMode}get scriptEnabled(){return this.#n?.scriptEnabled}get useGlobalContext(){return this.#n?.useGlobalContext}get hashFunction(){return this.#n?.hashFunction}get collectionResolver(){return this.#n?.collectionResolver}get jsonSchemaValidator(){return this.#n?.jsonSchemaValidator}get variables(){return this.#n?.variables}get context(){return this.#n?.context}}function et(t){return t instanceof tt?t.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0,...t,context:t?.context?nt.from(t?.context):nt.init()})}var rt=(t=>(t.ACCUMULATOR="accumulator",t.EXPRESSION="expression",t.PIPELINE="pipeline",t.PROJECTION="projection",t.QUERY="query",t.WINDOW="window",t))(rt||{});class nt{#s=new Map;constructor(){}static init(){return new nt}static from(t){const e=nt.init();return E(t)||t.#s.forEach(((t,r)=>e.addOperators(r,t))),e}addOperators(t,e){this.#s.has(t)||this.#s.set(t,{});for(const[r,n]of Object.entries(e))this.getOperator(t,r)||(this.#s.get(t)[r]=n);return this}getOperator(t,e){return(this.#s.get(t)??{})[e]??null}addAccumulatorOps(t){return this.addOperators("accumulator",t)}addExpressionOps(t){return this.addOperators("expression",t)}addQueryOps(t){return this.addOperators("query",t)}addPipelineOps(t){return this.addOperators("pipeline",t)}addProjectionOps(t){return this.addOperators("projection",t)}addWindowOps(t){return this.addOperators("window",t)}}const ot=nt.init(),it={accumulator:ot.addAccumulatorOps.bind(ot),expression:ot.addExpressionOps.bind(ot),pipeline:ot.addPipelineOps.bind(ot),projection:ot.addProjectionOps.bind(ot),query:ot.addQueryOps.bind(ot),window:ot.addWindowOps.bind(ot)};function st(t,e){for(const[r,n]of Object.entries(e)){y(S(n)&&X(r),`'${r}' is not a valid operator`);const e=ut(t,r,null);y(!e||n===e,`${r} already exists for '${t}' operators. Cannot change operator function once registered.`)}it[t](e)}function ut(t,e,r){const{context:n,useGlobalContext:o}=r||{},i=n?n.getOperator(t,e):null;return!i&&o?ot.getOperator(t,e):i}function ct(t,e,r,n){const o=tt.init(n,t);return r&&X(r)?ft(t,e,r,o):lt(t,e,o)}const at=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function lt(t,e,r){if(m(e)&&e.length>0&&"$"===e[0]){if(ht.includes(e))return e;let n=r.root;const o=e.split(".");if(at.includes(o[0])){switch(o[0]){case"$$ROOT":break;case"$$CURRENT":n=t;break;case"$$REMOVE":n=void 0;break;case"$$NOW":n=new Date}e=e.slice(o[0].length+1)}else if("$$"===o[0].slice(0,2)){n=Object.assign({},r.variables,{this:t},r?.local?.variables);const i=o[0].slice(2);y(C(n,i),`Use of undefined variable: ${i}`),e=e.slice(2)}else e=e.slice(1);return""===e?n:G(n,e)}if(w(e))return e.map((e=>lt(t,e,r)));if(O(e)){const n={},o=Object.entries(e);for(const[e,i]of o){if(X(e))return y(1==o.length,"expression must have single operator."),ft(t,i,e,r);n[e]=lt(t,i,r)}return n}return e}function ft(t,e,r,n){const o=ut("expression",r,n);if(o)return o(t,e,n);const i=ut("accumulator",r,n);return y(!!i,`accumulator '${r}' is not registered.`),w(t)||(t=lt(t,e,n),e=null),y(w(t),`arguments must resolve to array for ${r}.`),i(t,e,n)}const ht=["$$KEEP","$$PRUNE","$$DESCEND"],pt=(t,e,r)=>{const n=ct(t,e,null,r);return P(n,r.useStrictMode)&&n.every((t=>P(t,r.useStrictMode)))},dt=(t,e,r)=>{const n=A(e);return 0!=n.length&&(y(1==n.length,"Expression $not takes exactly 1 argument"),!ct(t,n[0],null,r))},yt=(t,e,r)=>{const n=ct(t,e,null,r),o=r.useStrictMode;return P(n,o)&&n.some((t=>P(t,o)))},bt=(t,e,r)=>{const n=ct(t,e,null,r);return y(w(n)&&2==n.length,"$cmp: expression must resolve to array of size 2."),p(n[0],n[1])};function gt(t){return t instanceof mt?t:new mt(t)}class mt{#u=[];#c=[];#a;#l=!1;constructor(t){const e=!(r=t)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r[Symbol.iterator]?function(t){return!!t&&"object"==typeof t&&"function"==typeof t?.next}(t)?t:"function"==typeof t?{next:t}:null:t[Symbol.iterator]();var r;y(!!e,"Iterator must be initialized with an iterable or function.");let n=-1,o={done:!1};this.#a=()=>{for(;!o.done&&(o=e.next(),!o.done);){let t=o.value;if(n++,this.#u.every((({op:e,fn:r})=>{const o=r(t,n);return"map"===e?!!(t=o)||!0:o})))return{value:t,done:!1}}return{done:!0}}}push(t,e){return this.#u.push({op:t,fn:e}),this}next(){return this.#a()}map(t){return this.push("map",t)}filter(t){return this.push("filter",t)}take(t){return t>0?this.filter((e=>!(0===t||0==t--))):this}drop(t){return t>0?this.filter((e=>0===t||0==t--)):this}transform(t){const e=this;let r;return gt((()=>(r||(r=gt(t(e.value()))),r.next())))}value(){for(;!this.#l;){const{done:t,value:e}=this.#a();t||this.#c.push(e),this.#l=t}return this.#c}each(t){for(;;){const e=this.next();if(e.done)break;if(!1===t(e.value))return!1}return!0}reduce(t,e){let r=this.next();for(void 0!==e||r.done||(e=r.value,r=this.next());!r.done;)e=t(e,r.value),r=this.next();return e}size(){return this.reduce(((t,e)=>++t),0)}[Symbol.iterator](){return this}}const vt=(t,e,r)=>t.take(e),$t=(t,e,r)=>M(e)?t:(Ot(e,r),t.map(wt(e,tt.init(r))));function wt(t,e,r=!0){const n=e.idKey,o=Object.keys(t),i=new Array,s=new Array,u={};for(const n of o){const o=t[n];if($(o)||g(o))o?s.push(n):i.push(n);else if(w(o))u[n]=t=>o.map((r=>ct(t,r,null,e.update(t))??null));else if(O(o)){const t=Object.keys(o),i=1==t.length?t[0]:"",s=ut(rt.PROJECTION,i,e);s?"$slice"!==i||A(o[i]).every($)?u[n]=t=>s(t,o[i],n,e.update(t)):u[n]=t=>ct(t,o,n,e.update(t)):X(i)?u[n]=t=>ct(t,o[i],i,e):(Ot(o,e),u[n]=t=>{if(!C(t,n))return ct(t,o,null,e);r&&e.update(t);const i=G(t,n),s=wt(o,e,!1);return w(i)?i.map(s):O(i)?s(i):s(t)})}else u[n]=m(o)&&"$"===o[0]?t=>ct(t,o,n,e):t=>o}const c=Object.keys(u),a=i.includes(n);if(r&&a&&1===i.length&&!s.length&&!c.length)return t=>{const e={...t};return delete e[n],e};const l=r&&!a&&!s.includes(n),f={preserveMissing:!0};return t=>{const e={};if(i.length&&!s.length){U(e,t);for(const t of i)B(e,t,{descendArray:!0})}for(const r of s)U(e,Q(t,r,f)??{});s.length&&V(e);for(const r of c){const n=u[r](t);void 0===n?B(e,r,{descendArray:!0}):K(e,r,n)}return l&&C(t,n)&&(e[n]=G(t,n)),e}}function Ot(t,e){let r=!1,n=!1;for(const[o,i]of Object.entries(t))y(!o.startsWith("$"),"Field names may not start with '$'."),y(!o.endsWith(".$"),"Positional projection operator '$' is not supported."),o!==e?.idKey&&(0===i||!1===i?r=!0:1!==i&&!0!==i||(n=!0),y(!(r&&n),"Projection cannot have a mix of inclusion and exclusion."))}const jt=(t,e,r)=>t.drop(e),xt=(t,e,r)=>{if(M(e)||!O(e))return t;let n=p;const o=r.collation;return O(o)&&m(o.locale)&&(n=function(t){const e={sensitivity:kt[t.strength||3],caseFirst:"off"===t.caseFirst?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:"shifted"===t.alternate};!0===t.caseLevel&&("base"===e.sensitivity&&(e.sensitivity="case"),"accent"===e.sensitivity&&(e.sensitivity="variant"));const r=new Intl.Collator(t.locale,e);return(t,e)=>{if(!m(t)||!m(e))return p(t,e);const n=r.compare(t,e);return n<0?-1:n>0?1:0}}(o)),t.transform((t=>{const o=Object.keys(e);for(const i of o.reverse()){const o=D(t,(t=>G(t,i)),r.hashFunction),s=Array.from(o.keys()).sort(n);-1===e[i]&&s.reverse();let u=0;for(const e of s)for(const r of o.get(e))t[u++]=r;y(u==t.length,"bug: counter must match collection size.")}return t}))},kt={1:"base",2:"accent",3:"variant"},St={$sort:xt,$skip:jt,$limit:vt};class Et{#f;#h;#p;#n;#s={};#d=null;#c=[];constructor(t,e,r,n){this.#f=t,this.#h=e,this.#p=r,this.#n=n}fetch(){if(this.#d)return this.#d;this.#d=gt(this.#f).filter(this.#h);const t=this.#n.processingMode;t&H.CLONE_INPUT&&this.#d.map(N);for(const t of["$sort","$skip","$limit"])C(this.#s,t)&&(this.#d=St[t](this.#d,this.#s[t],this.#n));return Object.keys(this.#p).length&&(this.#d=$t(this.#d,this.#p,this.#n)),t&H.CLONE_OUTPUT&&this.#d.map(N),this.#d}fetchAll(){const t=gt([...this.#c]);return this.#c.length=0,function(...t){let e=0;return gt((()=>{for(;e<t.length;){const r=t[e].next();if(!r.done)return r;e++}return{done:!0}}))}(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.#s.$skip=t,this}limit(t){return this.#s.$limit=t,this}sort(t){return this.#s.$sort=t,this}collation(t){return this.#n={...this.#n,collation:t},this}next(){if(this.#c.length>0)return this.#c.pop();const t=this.fetch().next();return t.done?void 0:t.value}hasNext(){if(this.#c.length>0)return!0;const t=this.fetch().next();return!t.done&&(this.#c.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}const Pt=/^\$(and|or|nor|expr|jsonSchema)$/;class Mt{#y;#n;#b;constructor(t,e){this.#b=N(t),this.#n=et(e),this.#y=[],this.compile()}compile(){y(O(this.#b),`query criteria must be an object: ${JSON.stringify(this.#b)}`);const t={};for(const[e,r]of Object.entries(this.#b)){if("$where"===e)y(this.#n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(t,{field:e,expr:r});else if(Pt.test(e))this.processOperator(e,e,r);else{y(!X(e),`unknown top level operator: ${e}`);for(const[t,n]of Object.entries(Z(r)))this.processOperator(e,t,n)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,e,r){const n=ut(rt.QUERY,e,this.#n);y(!!n,`unknown query operator ${e}`),this.#y.push(n(t,r,this.#n))}test(t){return this.#y.every((e=>e(t)))}find(t,e){return new Et(t,(t=>this.test(t)),e||{},this.#n)}}function At(t,e,r,n){const o={unwrapArray:!0},i=Math.max(1,t.split(".").length-1);return s=>{const u=G(s,t,o);return n(u,e,{...r,depth:i})}}function Ct(t,e,r,n){return n(...ct(t,e,null,r))}function _t(t,e,r){return!!L(t,e)||!(!E(t)||!E(e))||!!w(t)&&(t.some((t=>L(t,e)))||R(t,r?.depth).some((t=>L(t,e))))}function Nt(t,e,r){return!_t(t,e,r)}function It(t,e,r){return E(t)?e.some((t=>null===t)):T([A(t),e],r?.hashFunction).length>0}function Ut(t,e,r){return!It(t,e,r)}function Tt(t,e,r){return Yt(t,e,((t,e)=>p(t,e)<0))}function Rt(t,e,r){return Yt(t,e,((t,e)=>p(t,e)<=0))}function qt(t,e,r){return Yt(t,e,((t,e)=>p(t,e)>0))}function Lt(t,e,r){return Yt(t,e,((t,e)=>p(t,e)>=0))}function zt(t,e,r){return A(t).some((t=>2===e.length&&t%e[0]===e[1]))}function Dt(t,e,r){const n=A(t),o=t=>m(t)&&P(e.exec(t),r?.useStrictMode);return n.some(o)||R(n,1).some(o)}function Ft(t,e,r){if(!(w(t)&&w(e)&&t.length&&e.length))return!1;let n=!0;for(const o of e){if(!n)break;n=O(o)&&Object.keys(o).includes("$elemMatch")?Vt(t,o.$elemMatch,r):k(o)?t.some((t=>"string"==typeof t&&o.test(t))):t.some((t=>L(o,t)))}return n}function Gt(t,e,r){return Array.isArray(t)&&t.length===e}function Qt(t){return X(t)&&-1===["$and","$or","$nor"].indexOf(t)}function Vt(t,e,r){if(w(t)&&!M(t)){let n=t=>t,o=e;Object.keys(e).every(Qt)&&(o={temp:e},n=t=>({temp:t}));const i=new Mt(o,r);for(let e=0,r=t.length;e<r;e++)if(i.test(n(t[e])))return!0}return!1}const Jt=t=>null===t,Wt={array:w,boolean:g,bool:g,date:x,number:$,int:$,long:$,double:$,decimal:$,null:Jt,object:O,regexp:k,regex:k,string:m,undefined:E,1:$,2:m,3:O,4:w,6:E,8:g,9:x,10:Jt,11:k,16:$,18:$,19:$};function Kt(t,e,r){const n=Wt[e];return!!n&&n(t)}function Bt(t,e,r){return w(e)?e.findIndex((e=>Kt(t,e)))>=0:Kt(t,e)}function Yt(t,e,r){return A(t).some((t=>b(t)===b(e)&&r(t,e)))}const Xt=(t,e,r)=>Ct(t,e,r,_t),Zt=(t,e,r)=>Ct(t,e,r,qt),Ht=(t,e,r)=>Ct(t,e,r,Lt),te=(t,e,r)=>Ct(t,e,r,Tt),ee=(t,e,r)=>Ct(t,e,r,Rt),re=(t,e,r)=>Ct(t,e,r,Nt),ne=(t,e,r,n)=>{const o=G(t,r),i=new Mt(e,n);y(w(o),"$elemMatch: argument must resolve to array");const s=[];for(let t=0;t<o.length;t++)if(i.test(o[t])){if(n.useStrictMode)return[o[t]];s.push(o[t])}return s.length>0?s:void 0},oe=(t,e,r,n)=>{const o=G(t,r),i=e;return w(o)?((t,e,r)=>{const n=ct(t,e,null,r),o=n[0];let i=n[1],s=n[2];return E(s)?i<0?i=Math.max(0,o.length+i):(s=i,i=0):(i<0&&(i=Math.max(0,o.length+i)),y(s>0,"Invalid argument for $slice operator. Limit must be a positive number"),s+=i),o.slice(i,s)})(t,w(e)?[o,...i]:[o,e],n):o},ie=(t,e,r)=>At(t,e,r,Ft),se=(t,e,r)=>At(t,e,r,Vt),ue=(t,e,r)=>At(t,e,r,Gt),ce=(t,e,r)=>At(t,e,null,((t,e)=>{let n=0;if(w(e))for(const t of e)n|=1<<t;else n=e;return r(t&n,n)})),ae=(t,e,r)=>ce(t,e,((t,e)=>0==t)),le=(t,e,r)=>ce(t,e,((t,e)=>t==e)),fe=(t,e,r)=>ce(t,e,((t,e)=>t<e)),he=(t,e,r)=>ce(t,e,((t,e)=>t>0)),pe=(t,e,r)=>At(t,e,r,_t),de=(t,e,r)=>At(t,e,r,qt),ye=(t,e,r)=>At(t,e,r,Lt),be=(t,e,r)=>At(t,e,r,It),ge=(t,e,r)=>At(t,e,r,Tt),me=(t,e,r)=>At(t,e,r,Rt),ve=(t,e,r)=>At(t,e,r,Nt),$e=(t,e,r)=>At(t,e,r,Ut),we=(t,e,r)=>{const n=t.includes("."),o=!!e;return!n||t.match(/\.\d+$/)?e=>void 0!==G(e,t)===o:e=>{const r=G(Q(e,t,{preserveIndex:!0}),t.substring(0,t.lastIndexOf(".")));return w(r)?r.some((t=>void 0!==t))===o:void 0!==r===o}},Oe=(t,e,r)=>At(t,e,r,Bt);function je(t,e,r){return t=>ct(t,e,null,r)}function xe(t,e,r){y(!!r?.jsonSchemaValidator,"$jsonSchema: must configure 'jsonSchemaValidator' option to this operator.");const n=r?.jsonSchemaValidator(e);return t=>n(t)}const ke=(t,e,r)=>At(t,e,r,zt),Se=(t,e,r)=>At(t,e,r,Dt);function Ee(t,e,r){y(r.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const n=e;return y(S(n),"$where only accepts a Function object"),t=>P(n.call(t),r?.useStrictMode)}const Pe=(t,e,r)=>{y(w(e),"Invalid expression: $and expects value to be an Array.");const n=e.map((t=>new Mt(t,r)));return t=>n.every((e=>e.test(t)))},Me=(t,e,r)=>{y(w(e),"Invalid expression. $or expects value to be an Array");const n=e.map((t=>new Mt(t,r)));return t=>n.some((e=>e.test(t)))},Ae=(t,e,r)=>{y(w(e),"Invalid expression. $nor expects value to be an array.");const n=Me("$or",e,r);return t=>!n(t)},Ce=(t,e,r)=>{const n={};n[t]=Z(e);const o=new Mt(n,r);return t=>!o.test(t)};st(rt.EXPRESSION,{...e,...r}),st(rt.PIPELINE,{$project:$t,$skip:jt,$limit:vt,$sort:xt}),st(rt.PROJECTION,n),st(rt.QUERY,o);const _e={cloneMode:"copy",queryOptions:et({context:nt.init().addQueryOps(o).addExpressionOps(e).addExpressionOps(r)})},Ne=(t,e)=>{switch(t){case"deep":return N(e);case"copy":return x(e)?new Date(e):w(e)?[...e]:O(e)?{...e}:k(e)?new RegExp(e):e;default:return e}},Ie=/^[a-z]+[a-zA-Z0-9]*$/;function Ue(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];const e=t.indexOf(".$"),r=t.indexOf("]"),n=t.substring(0,e),o=t.substring(e+3,r);y(""===o||Ie.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const i=t.substring(r+2),[s,u]=i?Ue(i):[];return[{selector:t,parent:n,child:o||"$",next:s},[o,...u||[]].filter(Boolean)]}const Te=(t,e,r,n,o)=>{const{parent:i,child:s,next:u}=e;if(!s){let e=!1;return W(t,i,((t,r)=>e=Boolean(n(t,r))||e),o),e}const c=G(t,i);return!!w(c)&&c.map(((t,e)=>!(r[s]&&!r[s].test({[s]:t}))&&(u?Te(t,u,r,n,o):n(c,e)))).some(Boolean)};function Re(t,e,r,n){const o=[];for(const[i,s]of Object.entries(t)){const[t,u]=Ue(i);if(u.length){const i={};e.forEach((t=>{Object.keys(t).forEach((e=>{u.forEach((r=>{(e===r||e.startsWith(r+"."))&&(i[r]=i[r]||{},Object.assign(i[r],{[e]:t[e]}))}))}))}));const c={};for(const[t,e]of Object.entries(i))c[t]=new Mt(e,r.queryOptions);n(s,t,c)&&o.push(t.parent)}else n(s,t,{})&&o.push(t.parent)}return o}const qe=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,o)=>{const i={$each:[e]};return O(e)&&C(e,"$each")&&Object.assign(i,e),Te(t,r,o,((t,e)=>{const r=t[e]||=[];return T([r,i.$each]).length!==i.$each.length&&(t[e]=Ne(n.cloneMode,function(t,e=a){const r=d.init(e);return t.forEach((t=>r.set(t,!0))),Array.from(r.keys())}(r.concat(i.$each))),!0)}),{buildGraph:!0})})),Le=new Set(["and","or","xor"]),ze=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>{const o=Object.keys(e);return y(1===o.length&&Le.has(o[0]),`Invalid bit operator '${o[0]}'. Must be one of 'and', 'or', or 'xor'.`),Te(t,r,n,((t,r)=>{let n=t[r];const i=e[o[0]];if(!(void 0===n||$(n)&&$(i)))return!1;switch(n=n||0,o[0]){case"and":t[r]=n&i;break;case"or":t[r]=n|i;break;case"xor":t[r]=n^i}return t[r]!==n}),{buildGraph:!0})})),De=(t,e,r=[],n=_e)=>{const o=Date.now();return Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,e)=>(t[e]=o,!0)),{buildGraph:!0})))},Fe=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>{if(!r.child){const e=G(t,r.parent);y(void 0===e||$(e),"cannot apply $inc to a value of non-numeric type")}return Te(t,r,n,((t,r)=>(t[r]=(t[r]||=0)+e,!0)),{buildGraph:!0})})),Ge=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,r)=>!(void 0!==t[r]&&p(t[r],e)>-1||(t[r]=e,0))),{buildGraph:!0}))),Qe=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,r)=>!(void 0!==t[r]&&p(t[r],e)<1||(t[r]=e,0))),{buildGraph:!0}))),Ve=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,r)=>{const n=t[r];return t[r]=void 0===t[r]?0:t[r]*e,t[r]!==n}),{buildGraph:!0}))),Je=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,n)=>{const o=t[n];return y(w(o),`path '${r.selector}' contains an element of non-array type.`),!!o.length&&(-1===e?o.splice(0,1):o.pop(),!0)})))),We=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,o)=>{const i=!O(e)||Object.keys(e).some(X),s=new Mt(i?{k:e}:e,n.queryOptions),u=i?t=>s.test({k:t}):t=>s.test(t);return Te(t,r,o,((t,e)=>{const r=t[e],n=new Array;return!!r.map((t=>{const e=u(t);return e||n.push(t),e})).some(Boolean)&&(t[e]=n,!0)}))})),Ke=(t,e,r=[],n=_e)=>{const o={};return Object.entries(e).forEach((([t,e])=>{o[t]={$in:e}})),We(t,o,r,n)},Be=["$each","$slice","$sort","$position"],Ye=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,o)=>{const i={$each:[e]};return O(e)&&Be.some((t=>C(e,t)))&&Object.assign(i,e),Te(t,r,o,((t,e)=>{const r=t[e]||=[],o=r.slice(0,i.$slice||r.length),s=r.length,u=$(i.$position)?i.$position:r.length;if(r.splice(u,0,...Ne(n.cloneMode,i.$each)),i.$sort){const t=O(i.$sort)?Object.keys(i.$sort||{}).pop():"",e=t?i.$sort[t]:i.$sort,n=t?e=>G(e,t):t=>t;r.sort(((t,r)=>e*p(n(t),n(r))))}return $(i.$slice)&&(i.$slice<0?r.splice(0,r.length+i.$slice):r.splice(i.$slice)),s!=r.length||!L(o,r)}),{descendArray:!0,buildGraph:!0})})),Xe=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,o)=>Te(t,r,o,((t,r)=>!L(t[r],e)&&(t[r]=Ne(n.cloneMode,e),!0)),{buildGraph:!0}))),Ze=(t,e,r=[],n=_e)=>{const o=[],i=Re(e,r,n,((e,i,s)=>Te(t,i,s,((i,s)=>!!C(i,s)&&(o.push(...Xe(t,{[e]:i[s]},r,n)),delete i[s],!0)))));return Array.from(new Set(i.concat(o)))},He=(t,e,r=[],n=_e)=>Re(e,r,n,((e,r,n)=>Te(t,r,n,((t,e)=>!!C(t,e)&&(w(t)?t[e]=null:delete t[e],!0)))));var tr;tr=tr??_e;var er=Mt;function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,or(n.key),n)}}function or(t){var e=function(t){if("object"!=rr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rr(e)?e:e+""}var ir=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._expression={},this.change(e)},(e=[{key:"expression",get:function(){return this._expression}},{key:"change",value:function(t){if("object"!==rr(t)||null===t)throw new Error("Expressions can only be objects!");this._expression=t}},{key:"check",value:function(t){var e=!1;try{e=new er(this._expression).test(t.keys)}catch(t){console.warn("Expression check failed:",t),e=!1}return e}}])&&nr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function cr(t){var e=function(t){if("object"!=sr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sr(e)?e:e+""}var ar=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._values={}},e=[{key:"keys",get:function(){return this._values}},{key:"set",value:function(t,e){this._values[t]=e}},{key:"get",value:function(t){var e=null;return this.exists(t)&&(e=this._values[t]),e}},{key:"delete",value:function(t){var e=null;return this.exists(t)&&(e=this.get(t),delete this._values[t]),e}},{key:"exists",value:function(t){var e,r,n;return new er((e={},n={$exists:!0},(r=cr(r=t))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e)).test(this._values)}},{key:"size",value:function(){return Object.keys(this._values).length}}],e&&ur(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hr(n.key),n)}}function hr(t){var e=function(t){if("object"!=lr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lr(e)?e:e+""}var pr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._set=[]},e=[{key:"add",value:function(t){if("object"!==lr(t)||null===t)throw new Error("Qualities must be objects!");if(!this.has(t)){var e=new ir(t);this._set.push(e)}}},{key:"has",value:function(t){if("object"===lr(t)&&null!==t)return this._set.some((function(e){return JSON.stringify(e.expression)===JSON.stringify(t)}));throw new Error("Can only check object values!")}},{key:"remove",value:function(t){if("object"!==lr(t)||null===t)throw new Error("Must pass object values to remove!");this._set=this._set.filter((function(e){return JSON.stringify(e.expression)!==JSON.stringify(t)}))}},{key:"check",value:function(t){if(t instanceof ar)return this._set.every((function(e){return e.check(t)}));throw new Error("Must have State to check() against!")}},{key:"size",value:function(){return this._set.length}}],e&&fr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const dr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yr;const br=new Uint8Array(16),gr=[];for(let t=0;t<256;++t)gr.push((t+256).toString(16).slice(1));const mr=function(t,e,r){if(dr.randomUUID&&!e&&!t)return dr.randomUUID();const n=(t=t||{}).random??t.rng?.()??function(){if(!yr){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yr=crypto.getRandomValues.bind(crypto)}return yr(br)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){if((r=r||0)<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let t=0;t<16;++t)e[r+t]=n[t];return e}return function(t,e=0){return(gr[t[e+0]]+gr[t[e+1]]+gr[t[e+2]]+gr[t[e+3]]+"-"+gr[t[e+4]]+gr[t[e+5]]+"-"+gr[t[e+6]]+gr[t[e+7]]+"-"+gr[t[e+8]]+gr[t[e+9]]+"-"+gr[t[e+10]]+gr[t[e+11]]+gr[t[e+12]]+gr[t[e+13]]+gr[t[e+14]]+gr[t[e+15]]).toLowerCase()}(n)};function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wr(n.key),n)}}function wr(t){var e=function(t){if("object"!=vr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vr(e)?e:e+""}var Or=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content=e,this.qualities=r,this._hash=mr()},(e=[{key:"content",get:function(){return this._content},set:function(t){if("string"!=typeof t)throw new Error("Content must be expressed as a string!");this._content=t}},{key:"qualities",get:function(){return this._qualities},set:function(t){var e=this;if(!Array.isArray(t))throw new Error("Qualities must be expressed as an array!");this._qualities=new pr(this.state),t.forEach((function(t){return e.addQuality(t)}))}},{key:"hash",get:function(){return this._hash}},{key:"isAvailable",value:function(t){if(t instanceof ar)return this._qualities.check(t);throw new Error("Must be passed State to check if available")}},{key:"addQuality",value:function(t){this._qualities.add(t)}},{key:"removeQuality",value:function(t){this._qualities.remove(t)}}])&&$r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kr(n.key),n)}}function kr(t){var e=function(t){if("object"!=jr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jr(e)?e:e+""}var Sr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=[],this._state=new ar},e=[{key:"state",get:function(){return this._state},set:function(t){if(!(t instanceof ar))throw new Error("Passed value is not an instance of State");this._state=t}},{key:"getCard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=null;return t>=0&&t<this.cards.length&&(e=this.cards[t]),e}},{key:"updateCard",value:function(t){if(!(t instanceof Or))throw new Error("Updated card must be Card!");this.cards.forEach((function(e){e.hash===t.hash&&(e=t)}))}},{key:"size",value:function(){return this.cards.length}},{key:"addCard",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"!=typeof t)throw new Error("Card content must be string!");if(!Array.isArray(e))throw new Error("Qualities must be passed as array!");var r=new Or(t,e);this.cards.push(r)}},{key:"removeCard",value:function(t){this.cards=this.cards.filter((function(e){return e!==t}))}},{key:"shuffle",value:function(){for(var t=this.cards.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),r=[this.cards[e],this.cards[t]];this.cards[t]=r[0],this.cards[e]=r[1]}}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=[];return e>0&&(r=(r=this.cards.filter((function(e){return e.isAvailable(t.state)}))).slice(0,e)),r}}],e&&xr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();window.Card=Or,window.Deck=Sr,window.Expression=ir,window.QualitySet=pr,window.State=ar})();